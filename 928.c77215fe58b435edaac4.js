"use strict";(self.webpackChunkmy_cart=self.webpackChunkmy_cart||[]).push([[928],{6928:(E,p,i)=>{i.r(p),i.d(p,{CartModule:()=>k});var a=i(8583),t=i(7716),m=i(8072),g=i(9855),_=i(6215);let u=(()=>{class r{constructor(){this.orderDetails=new _.X([])}getOrderDetails(){return this.orderDetails}setOrders(e){const n=this.orderDetails.getValue();n.push(e),this.orderDetails.next(n)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var s=i(4655),v=i(5939),l=i(3738);function C(r,o){1&r&&(t.TgZ(0,"div"),t.TgZ(1,"div",2),t._uU(2," No Order yet...!!! "),t.qZA(),t.qZA())}function O(r,o){if(1&r&&(t.TgZ(0,"mat-card"),t._UZ(1,"img",3),t.TgZ(2,"div",4),t.TgZ(3,"h3"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"strong"),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(null==e?null:e.title),t.xp6(1),t.hij(" ",t.lcZ(6,4,null==e?null:e.time)," "),t.xp6(4),t.hij("Price: $",null==e?null:e.price,"")}}function T(r,o){if(1&r&&(t.ynx(0),t.YNc(1,O,10,6,"mat-card",0),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.orderDetails.length>0)}}let y=(()=>{class r{constructor(e,n){this.orderSvc=e,this.router=n,this.orderDetails=[]}ngOnInit(){this.orderSvc.getOrderDetails().subscribe(e=>{this.orderDetails=[...e]},e=>{this.router.navigate(["/server-error"])})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(u),t.Y36(s.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-details"]],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-warning"],[3,"src"],[1,"column-1"],[1,"column-2"]],template:function(e,n){1&e&&(t.YNc(0,C,3,0,"div",0),t.YNc(1,T,2,1,"ng-container",1)),2&e&&(t.Q6J("ngIf",0===n.orderDetails.length),t.xp6(1),t.Q6J("ngForOf",n.orderDetails))},directives:[a.O5,a.sg,l.a8],pipes:[a.uU],styles:["mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}img[_ngcontent-%COMP%]{height:75px;width:50px}.column-1[_ngcontent-%COMP%], .column-2[_ngcontent-%COMP%]{margin:7px}.column-2[_ngcontent-%COMP%]{margin-left:auto}.alert[_ngcontent-%COMP%]{text-align:center;margin:20px}"]}),r})();var f=i(1095);const b=function(r){return["/details/",r]},A=function(r){return["/usercart/buy",r]};function I(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-card"),t.TgZ(2,"div",5),t.TgZ(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t._UZ(9,"img",8),t.qZA(),t.TgZ(10,"div",9),t.TgZ(11,"strong"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"mat-card-actions",10),t.TgZ(14,"button",11),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw(2).removeItem(d)}),t._uU(15,"Remove"),t.qZA(),t.TgZ(16,"button",12),t._uU(17,"Buy now"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&r){const e=o.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(6,b,e.id)),t.xp6(2),t.Oqu(null==e?null:e.title),t.xp6(2),t.Oqu(null==e?null:e.category),t.xp6(3),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.hij("Price: $",null==e?null:e.price,""),t.xp6(4),t.Q6J("routerLink",t.VKq(8,A,e.id))}}function D(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"mat-card",13),t.TgZ(1,"div",14),t.TgZ(2,"h3"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",15),t.TgZ(5,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).buyAll()}),t._uU(6,"proceed with all"),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(3),t.hij(" Total Quantity: ",e.products.length,"")}}function S(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,I,18,10,"ng-container",3),t.YNc(2,D,7,1,"mat-card",4),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.products),t.xp6(1),t.Q6J("ngIf",e.products.length>0)}}function q(r,o){1&r&&(t.TgZ(0,"div"),t.TgZ(1,"div",17),t._uU(2," Yout cart is Empty "),t.qZA(),t.qZA())}let M=(()=>{class r{constructor(e,n,c,d){this.cartSvc=e,this.prodSvc=n,this.orderSvc=c,this.router=d,this.products=[]}ngOnInit(){this.cartSvc.cartItems.subscribe(e=>{this.products=[...e]})}removeItem(e){this.cartSvc.removeItemFromCart([e],"Item removed from cart")}buyAll(){this.products.forEach(e=>{this.prodSvc.getProductById(e.id).subscribe(n=>{const c=Object.assign(Object.assign({},n),{time:new Date,order:"successfull"});this.orderSvc.setOrders(c),this.router.navigate(["/usercart/cart"])})}),this.cartSvc.removeItemFromCart(this.products,"Order Placed")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m.N),t.Y36(g.s),t.Y36(u),t.Y36(s.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart-item"]],decls:6,vars:2,consts:[["label","Cart Details"],[4,"ngIf"],["label","Order Details"],[4,"ngFor","ngForOf"],["id","buy-all","class","alert alert-info",4,"ngIf"],["id","pointer",3,"routerLink"],[1,"two-section"],[1,"image-conatiner"],["mat-card-image","",3,"src"],[2,"margin-left","auto"],["align","end"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"routerLink"],["id","buy-all",1,"alert","alert-info"],[1,"column-1"],[1,"column-2"],["mat-raised-button","","color","primary",3,"click"],["role","alert",1,"alert","alert-warning"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-tab-group"),t.TgZ(1,"mat-tab",0),t.YNc(2,S,3,2,"div",1),t.YNc(3,q,3,0,"div",1),t.qZA(),t.TgZ(4,"mat-tab",2),t._UZ(5,"app-order-details"),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",n.products.length>0),t.xp6(1),t.Q6J("ngIf",0===n.products.length))},directives:[v.SP,v.uX,a.O5,y,a.sg,l.a8,s.rH,l.n5,l.$j,l.G2,l.hq,f.lW],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.two-section[_ngcontent-%COMP%]{display:flex;flex-direction:row}img[_ngcontent-%COMP%]{height:90px;width:60px;object-fit:cover;margin:10px}#pointer[_ngcontent-%COMP%]{cursor:pointer}.column-1[_ngcontent-%COMP%]{margin:7px}.column-2[_ngcontent-%COMP%]{margin:7px 7px 7px auto}#buy-all[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;background-color:#7fffd4}.alert[_ngcontent-%COMP%]{text-align:center;margin:20px}"]}),r})();var Z=i(5886),h=i(4466),P=i(5312),Y=i(9047),F=i(6297);function J(r,o){1&r&&(t.TgZ(0,"div"),t.TgZ(1,"div",2),t._uU(2," Yout cart is Empty "),t.qZA(),t.qZA())}function U(r,o){1&r&&t._UZ(0,"app-loader")}const Q=function(){return["/usercart/cart"]};function w(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"app-product-details",3),t.TgZ(1,"mat-card-actions",4),t.TgZ(2,"button",5),t._uU(3,"back"),t.qZA(),t.TgZ(4,"button",6),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return c.placedOrder(c.product.id)}),t._uU(5,"Proceed"),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("product",e.product),t.xp6(2),t.Q6J("routerLink",t.DdM(2,Q))}}let B=(()=>{class r{constructor(e,n,c,d,x,H){this.actRoutes=e,this.cartSvc=n,this.loadSvc=c,this.prodSvc=d,this.router=x,this.OrderSvc=H,this.product={},this.loading=!1}ngOnInit(){this.actRoutes.params.subscribe(e=>{e.id&&this.cartSvc.cartItems.getValue().length&&this.prodSvc.getProductById(e.id).subscribe(n=>{this.product=Object.assign({},n)},n=>{this.router.navigate(["server-error"])})}),this.loadSvc.loading.subscribe(e=>{this.loading=e})}placedOrder(e){this.prodSvc.getProductById(e).subscribe(n=>{const c=Object.assign(Object.assign({},n),{time:new Date,order:"successfull"});this.OrderSvc.setOrders(c),this.cartSvc.removeItemFromCart([n],"Order Placed"),this.router.navigate(["/usercart/cart"])})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(s.gz),t.Y36(m.N),t.Y36(P.b),t.Y36(g.s),t.Y36(s.F0),t.Y36(u))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-buying-details"]],decls:5,vars:7,consts:[[4,"ngIf"],[3,"product",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[3,"product"],[1,"action-buttons"],["mat-button","","color","warn",3,"routerLink"],["mat-button","","color","primary",2,"margin-left","auto",3,"click"]],template:function(e,n){1&e&&(t.YNc(0,J,3,0,"div",0),t.ALo(1,"json"),t.YNc(2,U,1,0,"app-loader",0),t.YNc(3,w,6,3,"app-product-details",1),t.ALo(4,"json")),2&e&&(t.Q6J("ngIf","{}"==t.lcZ(1,3,n.product)&&!n.loading),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf","{}"!=t.lcZ(4,5,n.product)&&!n.loading))},directives:[a.O5,Y.R,F.Z,l.hq,f.lW,s.rH],pipes:[a.Ts],styles:[".alert[_ngcontent-%COMP%]{text-align:center;margin:20px}"]}),r})();var j=i(2298);let N=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[a.ez,h.m,Z.q]]}),r})();const L=[{path:"cart",component:M},{path:"buy/:id",component:B}];let k=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[a.ez,s.Bz.forChild(L),Z.q,h.m,j.ProductsModule,N]]}),r})()}}]);